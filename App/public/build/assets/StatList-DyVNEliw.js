import{r as x,j as e}from"./app-DfQFbsif.js";import{P as h}from"./Footer-DDDlRUen.js";import{N as u}from"./NavBar-CZNQGqiZ.js";import"./Dropdown-BI4t4zUj.js";import"./transition-9RhzZiIi.js";const v=({title:l,catePerm:d,contents:s,userPermission:c})=>{const a=s&&s.length>0&&s[0].events&&s[0].events.length>0?s[0].events[0].id:"",[r,n]=x.useState(a),o=t=>{n(t.target.value)};return e.jsx("div",{className:"max-w-xl mx-auto mb-8",children:d<=c&&e.jsxs("div",{children:[e.jsx("h2",{children:l}),s&&s.map((t,p)=>e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"flex-grow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"ml-4",children:e.jsx("p",{children:t.content})}),t.nick==="UserList"&&e.jsx("div",{className:"ml-4",children:e.jsx("select",{className:"text-black bg-white px-2 py-1 rounded",style:{maxWidth:"200px"},onChange:o,value:r,children:t.events&&t.events.map((i,m)=>e.jsx("option",{value:i.id,children:i.name},m))})})]})}),e.jsx("div",{className:"flex",children:t.buttons.map((i,m)=>e.jsx("a",{href:route(t.nick,{id:t.param,eventId:r}),className:"px-4 py-2 bg-red-200 rounded border border-gray-500 hover:bg-red-500 focus:outline-none focus:border-gray-600 focus:ring focus:ring-gray-500 focus:ring-opacity-50",children:i.label},m))})]},p))]})})},N=({events:l,userPermissions:d,auth:s})=>{const c=l.map(n=>({id:n._id,name:n.event_name})),a=s.user._id,r=[{title:"User Data",permission:1,contents:[{content:"User Profile",nick:"userdata",param:a,buttons:[{label:"Download Excel"}]}]},{title:"Event Data",permission:2,contents:[{content:"Register Users On Event",nick:"UserList",param:a,events:c,buttons:[{label:"Download Excel"}]},{content:"Event Percentages",nick:"eventPercentGraph",param:a,buttons:[{label:"Open Graphs"}]}]},{title:"Website Data",permission:3,contents:[{content:"User demographics",nick:"userDemoGraph",param:a,buttons:[{label:"Open Graphs"}]},{content:"External Data",nick:"externalDataGraph",param:a,buttons:[{label:"Open Graphs"}]},{content:"Event List",nick:"EventList",param:"n",buttons:[{label:"Download Excel"}]},{content:"User List",nick:"AllUsers",param:a,buttons:[{label:"Download Excel"}]}]}];return e.jsxs("div",{className:"flex flex-col min-h-screen bg-black text-white",children:[e.jsx(u,{prop:s}),e.jsx("div",{className:"flex-1 mt-8 px-4",children:r.map((n,o)=>e.jsx(v,{title:n.title,catePerm:n.permission,contents:n.contents,userPermission:3},o))}),e.jsx("div",{className:"min-h-32",children:" "}),e.jsx(h,{})]})};export{N as default};
